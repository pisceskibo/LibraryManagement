{% extends "base.html" %}

<!-- NỘI DUNG BỊ THAY ĐỔI -->
{% block content %}

<section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
    <div class="container">
        <div class="row">

            <div class="col-lg-8 col-12 mx-auto">
                <h1 class="text-white text-center"> Trang chủ thông tin </h1>
                <h6 class="text-center"> một vài tin tức quan trọng </h6>

                <form method="get" class="custom-form mt-4 pt-2 mb-lg-0 mb-5" role="search">
                    <div class="input-group input-group-lg">
                        <span class="input-group-text bi-search" id="basic-addon1">
                        </span>

                        <input name="keyword" type="search" class="form-control" id="keyword"
                            placeholder="Search for something..." aria-label="Search">
                        <button type="submit" class="form-control">Search</button>
                    </div>
                </form>
                
            </div>
        </div>
    </div>
</section>


<section class="featured-section">
    <div class="container">
        <div class="row justify-content-center">
            <div id="carouselExampleIndicators" class="carousel slide">

                <!-- Thanh cuộn sang ngang phía dưới -->
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                        class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>

                <!-- Nội dung chính của slide -->
                <div class="carousel-inner" style="border-radius: 5%;">
                    <div class="carousel-item active">
                        <img src="\static\images\fastapi_python.jpg" class="d-block w-100">
                    </div>
                    <div class="carousel-item">
                        <img src="\static\images\django_python.jpg" class="d-block w-100">
                    </div>
                    <div class="carousel-item">
                        <img src="\static\images\flask_python.jpg" class="d-block w-100">
                    </div>
                </div>

                <!-- Thanh chuyển sang ngang phía dưới -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

        </div>
    </div>
</section>
<hr>


<section class="explore-section section-padding" id="section_2">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="mb-4">Library Topics</h1>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="design-tab" data-bs-toggle="tab" data-bs-target="#design-tab-pane" type="button" role="tab" aria-controls="design-tab-pane" aria-selected="true">Booksite</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="marketing-tab" data-bs-toggle="tab" data-bs-target="#marketing-tab-pane" type="button" role="tab" aria-controls="marketing-tab-pane" aria-selected="false">Student</button>
                </li>
            </ul>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="tab-content" id="myTabContent">

                    <div class="tab-pane fade show active" id="design-tab-pane" role="tabpanel" aria-labelledby="design-tab" tabindex="0">       
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-0">
                                <div class="custom-block bg-white shadow-lg">
                                    <a href="/books?bookview=1">
                                        <div class="d-flex">
                                            <div>
                                                <h5 class="mb-2">Book</h5>
                                                <p class="mb-0">All of the book in Library</p>
                                            </div>
                                            <span class="badge bg-design rounded-pill ms-auto">{{all_book|length}}</span>
                                        </div>
                                        <img src="static/images/items/bookseeing.png" class="custom-block-image img-fluid" alt="">
                                    </a>
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-0">
                                <div class="custom-block bg-white shadow-lg">
                                    <a href="/category_books">
                                        <div class="d-flex">
                                            <div>
                                                <h5 class="mb-2">Category</h5>
                                                <p class="mb-0">All of the category in Library</p>
                                            </div>
                                            <span class="badge bg-design rounded-pill ms-auto">{{all_category2|length}}</span>
                                        </div>
                                        <img src="static/images/items/categoryseeing.png" class="custom-block-image img-fluid" alt="">
                                    </a>
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-6 col-12">
                                <div class="custom-block bg-white shadow-lg">
                                    <a href="/books/all_borrowed_book">
                                        <div class="d-flex">
                                            <div>
                                                <h5 class="mb-2">Borrow</h5>
                                                <p class="mb-0">The number of borrowed books</p>
                                            </div>
                                            <span class="badge bg-design rounded-pill ms-auto">100+</span>
                                        </div>
                                        <img src="static/images/items/borrowseeing.png" class="custom-block-image img-fluid" alt="">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                
                
                    <div class="tab-pane fade" id="marketing-tab-pane" role="tabpanel" aria-labelledby="marketing-tab" tabindex="0">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                <div class="custom-block bg-white shadow-lg">
                                    <a href="/users">
                                        <div class="d-flex">
                                            <div>
                                                <h5 class="mb-2">Employee</h5>
                                                <p class="mb-0">All of the student in Library</p>
                                            </div>
                                            <span class="badge bg-advertising rounded-pill ms-auto">{{all_student|length}}</span>
                                        </div>
                                        <img src="static/images/items/studentseeing.png" class="custom-block-image img-fluid" alt="">
                                    </a>
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                <div class="custom-block bg-white shadow-lg">
                                    <a href="/users/detail_student?username_choice=tungtq2">
                                        <div class="d-flex">
                                            <div>
                                                <h5 class="mb-2">Administrator</h5>
                                                <p class="mb-0">The highest role in Library</p>
                                            </div>
                                            <span class="badge bg-advertising rounded-pill ms-auto">1</span>
                                        </div>
                                        <img src="static/images/items/administratorseeing.png" class="custom-block-image img-fluid" alt="">
                                    </a>                                
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                <div class="custom-block bg-white shadow-lg">
                                    <a href="/authority">
                                        <div class="d-flex">
                                            <div>
                                                <h5 class="mb-2">Authority</h5>
                                                <p class="mb-0">The IT developer who built Website</p>
                                            </div>
                                            <span class="badge bg-advertising rounded-pill ms-auto">1</span>
                                        </div>
                                        <img src="static/images/items/authorityseeing.png" class="custom-block-image img-fluid" alt="">
                                    </a>
                                </div>
                            </div>
                        </div>                    
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Timeline hướng dẫn cách đọc -->
<section class="timeline-section section-padding" id="section_3">
    <div class="section-overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="text-white mb-4">How does Library work?</h1>
            </div>

            <div class="col-lg-10 col-12 mx-auto">
                <div class="timeline-container">
                    <ul class="vertical-scrollable-timeline" id="vertical-scrollable-timeline">
                        <div class="list-progress">
                            <div class="inner"></div>
                        </div>

                        <li>
                            <h4 class="text-white mb-3">Search your favourite books</h4>
                            <p class="text-white">
                                Tìm kiếm sách chưa bao giờ dễ dàng đến thế! Nhập từ khóa vào ô tìm kiếm và ngay lập tức, bạn sẽ có danh sách các cuốn sách phù hợp với mong muốn. 
                                Với thuật toán tìm kiếm thông minh có quy tắc, kết quả sẽ được hiển thị một cách nhanh chóng và chính xác, giúp bạn tiết kiệm thời gian tìm kiếm hơn.
                            </p>
                            <div class="icon-holder">
                                <i class="bi-search"></i>
                            </div>
                        </li>
                        
                        <li>
                            <h4 class="text-white mb-3">Connect with your friends</h4>
                            <p class="text-white">
                                Kết nối và chia sẻ kiến thức chưa bao giờ dễ dàng đến thế! Tải lên tài liệu lên Website chia sẻ trực tuyến chuyên biệt, bạn không chỉ tạo ra một thư viện cá nhân mà còn xây dựng một cộng đồng học tập sôi động với những chủ đề mới, trao đổi ý kiến và hỗ trợ lẫn nhau. 
                                Hãy thử ngay và cảm nhận sự tiện lợi mà nó mang lại!    
                            </p>
                            <div class="icon-holder">
                                <i class="bi-bookmark"></i>
                            </div>
                        </li>

                        <li>
                            <h4 class="text-white mb-3">Read Book &amp; Bookmark Rate</h4>
                            <p class="text-white">
                                Đọc sách là một hành trình khám phá không ngừng. Không chỉ đơn thuần là giải trí, việc đọc sách còn là một cách hiệu quả để mở rộng kiến thức, rèn luyện tư duy và phát triển bản thân. 
                                Đọc sách giúp chúng ta hiểu rõ hơn về thế giới xung quanh, về cuộc sống chính mình.     
                            </p>
                            <div class="icon-holder">
                              <i class="bi-book"></i>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="col-12 text-center mt-5">
                <p class="text-white">
                    Want to learn more?
                    <a href="#" class="btn custom-btn custom-border-btn ms-3">Check out</a>
                </p>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT FILES -->
    <script src="static/js/jquery.min.js"></script>
    <script src="static/js/custom.js"></script>
</section>
<hr>


<!-- Thống kê sách nhiều người truy cập nhất -->
<section class="faq-section section-padding" id="section_4">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-12">
                <h2 class="mb-4">Book Data Frequency</h2>
            </div>
            <div class="clearfix"></div>
            <div class="col-lg-5 col-12">
                <img src="static/images/items/faq_graphic.jpg" class="img-fluid" alt="FAQs">
            </div>

            <div class="col-lg-6 col-12 m-auto">
                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            What is the Bestseller Book?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                Cuốn sách được truy cập nhiều nhất trong thư viện là sách có mã <strong><a href="/books/detail_book?choice_book={{bestseller_id}}"> "{{bestseller_id}} - {{bestseller_name}}" </a></strong> với số lượng truy cập lên tới <strong>{{count_view}}+</strong> cao nhất từ trước đến nay.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Top books with the highest Rate?
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                Top những cuốn sách được người dùng đánh giá cao về chất lượng và lượng thông tin truyền tải tốt nhất từ trước đến nay.
                                {% for highbook in all_highest_book %}
                                <li>
                                    {{highbook[2]}} ⭐ =>
                                    <a href="/books/detail_book?choice_book={{highbook[0]}}">
                                        "{{highbook[0]}} - {{highbook[1]}}"
                                    </a>
                                </li>
                                {% endfor %}
                                <li> ... </li>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            What is the new book created?
                        </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                Cuốn sách mới được tạo gần đây nhất là 
                                <strong>
                                    <a href="/books/detail_book?choice_book={{new_created_book.id_book}}">
                                        "{{new_created_book.id_book}} - {{new_created_book.title}}"
                                    </a>
                                </strong> bởi {{new_created_book.username_id}}
                                và được tạo vào lúc {{new_created_book.insert_at.strftime('%Y-%m-%d %H:%M:%S')}}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Vẽ biểu đồ đánh giá sách -->
<div style="font-family: Arial, sans-serif; display: flex; flex-direction: column; align-items: center; margin: 0;">
    <div class="chart-container" style="position: relative; display: flex; justify-content: space-around; align-items: flex-end; height: 300px; width: 80%; border-left: 2px solid #333; border-bottom: 2px solid #333; padding: 10px;">
        <!-- Nhãn trục tung -->
        <div class="y-axis-labels" style="position: absolute; left: -40px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; text-align: right;">
            {% for i in range(5, 0, -1) %}
                <div style="height: 20%; line-height: 1; padding-right: 5px;">{{ i }}</div>
            {% endfor %}
        </div>
        
        <!-- Cột biểu đồ -->
        {% for book_id, title, average_rating in chart_books %}
            <div class="bar" style="background-color: #61a5c2; width: 50px; height: {{ (average_rating / 5) * 100 }}%; margin: 0 10px; position: relative;">
                <span style="position: absolute; bottom: 100%; transform: translateX(-50%); left: 50%;">{{ average_rating }}⭐</span>
            </div>
        {% endfor %}
    </div>
    
    <!-- Chú thích -->
    <div class="labels" style="display: flex; justify-content: space-around; width: 80%;">
        {% for book_id, title, average_rating in chart_books %}
            <div class="label" style="width: 50px; text-align: center;">{{ book_id }}</div>
        {% endfor %}
    </div>
</div>
<br>


<!-- Nhà tài trợ -->
<hr>
<div style="text-align: center; background-color: rgb(197, 240, 240);">
    <h2>💎 Nhà sáng lập kim cương 💎</h2>
    <br>
    <table style="text-align: center;">
      <tr>
        <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap;">
          <img src="static/images/TQT1.jpg" style="width: 400px; height: 400px; border-radius: 100%; object-fit: cover; margin: 10px; transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out;" onmouseover="this.style.transform='scale(1.1)'; this.style.filter='brightness(80%)';" onmouseout="this.style.transform='scale(1)'; this.style.filter='brightness(100%)';">
          <img src="static/images/TQT2.png" style="width: 400px; height: 400px; border-radius: 100%; object-fit: cover; margin: 10px;transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out;" onmouseover="this.style.transform='scale(1.1)'; this.style.filter='brightness(80%)';" onmouseout="this.style.transform='scale(1)'; this.style.filter='brightness(100%)';">
          <img src="static/images/TQT3.jpg" style="width: 400px; height: 400px; border-radius: 100%; object-fit: cover; margin: 10px;transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out;" onmouseover="this.style.transform='scale(1.1)'; this.style.filter='brightness(80%)';" onmouseout="this.style.transform='scale(1)'; this.style.filter='brightness(100%)';">
        </div>  
      </tr>
    </table>
    <br>
    <div style="text-align: center;">
      <h3> Tác giả: Tạ Quang Tùng </h3>
      <br>
    </div>
</div>
<hr>


<!-- Thông tin liên hệ và bản đồ -->
<section class="contact-section section-bg" id="section_5" style="padding-top: 50px">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-12 text-center">
                <h2 class="mb-5">Relationships</h2>
            </div>

            <div class="col-lg-5 col-12 mb-4 mb-lg-0">
                <iframe class="google-map" src="https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d29797.54815457127!2d105.77514114158602!3d21.00491907500575!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e6!4m5!1s0x313454ac8f4b0465%3A0xfd5cbbbead5513c0!2zUmlra2Vpc29mdCwgxJDGsOG7nW5nIFBo4bqhbSBIw7luZywgTeG7hSBUcsOsIEjhuqEsIE3hu4UgVHLDrCwgTmFtIFThu6sgTGnDqm0sIEjDoCBO4buZaQ!3m2!1d21.0168483!2d105.7817693!4m5!1s0x3135acbf0df2c0e5%3A0xd740a66998e1a0ed!2zMzM0IMSQLiBOZ3V54buFbiBUcsOjaSwgVGhhbmggWHXDom4gVHJ1bmcsIFRoYW5oIFh1w6JuLCBIw6AgTuG7mWk!3m2!1d20.995872199999997!2d105.8079772!5e0!3m2!1svi!2s!4v1722228316668!5m2!1svi!2s" 
                width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>

            <div class="col-lg-3 col-md-6 col-12 mb-3 mb-lg- mb-md-0 ms-auto">
                <h4 class="mb-3">Rikkeisoft Company</h4>
                <p>Số 18, Đ. Phạm Hùng, Mỹ Đình, Nam Từ Liêm, Hà Nội</p>
                <hr>

                <p class="d-flex align-items-center mb-1">
                    <span class="me-2">Phone:</span>
                    <a href="tel: 0398463203" class="site-footer-link">
                        (+84) 398 463 203
                    </a>
                </p>

                <p class="d-flex align-items-center">
                    <span class="me-2">Email:</span>
                    <a href="mailto:tungtq2@rikkeisoft.com" class="site-footer-link">
                        tungtq2@rikkeisoft.com
                    </a>
                </p>
            </div>

            <div class="col-lg-3 col-md-6 col-12 mx-auto">
                <h4 class="mb-3">MIM - HUS - VNU</h4>
                <p>Số 334, Đ. Nguyễn Trãi, Thanh Xuân, Hà Nội</p>
                <hr>
                <p class="d-flex align-items-center mb-1">
                    <span class="me-2">Phone:</span>
                    <a href="tel: 0398463203" class="site-footer-link">
                        (+84) 398 463 203
                    </a>
                </p>

                <p class="d-flex align-items-center">
                    <span class="me-2">Email:</span>
                    <a href="mailto:taquangtung_t66@hus.edu.vn" class="site-footer-link">
                        taquangtung_t66@hus.edu.vn
                    </a>
                </p>
            </div>
        </div>
    </div>
    <hr>
</section>


<hr>
<div style="text-align: center;">
    <h3> TIN TỨC MỚI VỀ TRANG WEB </h3>
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-border text-secondary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-border text-success" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-border text-danger" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-border text-warning" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-border text-info" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-border text-dark" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
<hr>

{% endblock content%}
